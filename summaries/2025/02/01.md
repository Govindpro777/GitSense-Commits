# Activity Summary for 2/1/2025

## 1:03:32 AM
The `resetPassword.js` controller underwent significant changes between 12:30 AM and 1:02 AM on February 1st, 2025.

The initial version (12:30 AM) implemented password reset using a randomly generated token stored directly in the user document,  sent via email using Nodemailer with credentials from environment variables.  It used `crypto` for token generation and `bcrypt` for password hashing.  The email included a link with a token valid for one hour.  Both `forgotPassword` and `resetPassword` functions were defined within the module.


The revised version (1:02 AM) replaced the custom token generation with JSON Web Tokens (JWTs) generated using `jsonwebtoken`.  The token's lifespan was shortened to 15 minutes.  It also simplified the email template and error handling.  The `forgotPassword` function now returns a more concise success message, and the  `resetPassword`  function now extracts the token from the request parameters (`req.params`) instead of the request body (`req.body`).  The code was also restructured to use `exports` for exporting functions.  Error handling was also improved, with more specific error messages and including the error object in the response for debugging purposes in the `forgotPassword` function.  The bcrypt library was changed from `require("bcrypt")` to `require("bcryptjs")`.  Environment variables were shortened (e.g., `EMAIL_USER` instead of `EMAIL_USERNAME`).  The code uses a `BASE_URL` environment variable for constructing the reset link.
