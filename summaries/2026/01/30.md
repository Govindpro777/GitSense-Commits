# Activity Summary for 1/30/2026

## 12:47:36 AM
The `backend\models\Branch.js` file, updated on 1/30/2026 at 12:03:10 AM, defines a Mongoose schema for a `Branch` model. This schema includes a comprehensive set of fields to manage branch information within a sales ERP system. Key fields include:

*   **Identification & Details**: `branchName`, `branchCode` (unique and required), `address`, `phoneNumber` (with validation), `email` (with validation), `branchManagerName`, `openingHours`, `establishedDate`.
*   **Operational Metrics**: `noOfUsers` (defaulting to 0), `servicesOffered` (an array of strings), and `location` (with validated latitude and longitude).
*   **Hierarchical & Status**: `isHeadOffice` (boolean, default false), `companyId` (a required reference to a 'Company' model), `isActive` (default true), and `isDeleted` (default false).

The schema incorporates several validations (e.g., `required`, `maxlength`, unique constraints, regex for phone and email) and default values for various fields. It also defines several indexes for efficient querying: `companyId`, `branchCode` (unique), `branchName` (text index), and `isDeleted`. A significant feature is the `generateBranchCode` static method, which asynchronously creates a unique branch code (`BR` followed by a zero-padded number based on the count of branches for a given company). Timestamps are enabled for automatic `createdAt` and `updatedAt` fields.